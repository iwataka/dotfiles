#!/usr/bin/env bash

set -e

declare -a tools=(
    "bat"
    "delta"
    "exa"
    "fd"
    "fzf"
    "ghq"
    "github-cli"
    "jq"
    "lazygit"
    "ripgrep"
    "shellcheck"
    "shfmt"
    "starship"
    "yq"
    "zoxide"
)

for tool in "${tools[@]}"; do
    if [ "$tool" == "zoxide" ]; then
        # temporary fix
        asdf plugin add "$tool" https://github.com/iwataka/asdf-zoxide || true
    else
        asdf plugin add "$tool" || true
    fi
    asdf install "$tool" latest
    asdf global "$tool" latest
    asdf reshim "$tool"
    if [ "$tool" == "fzf" ]; then
        ~/.asdf/installs/fzf/"$(asdf latest fzf)"/install --key-bindings --completion --no-update-rc
    fi
done
