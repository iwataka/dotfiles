#!/usr/bin/env bash

set -e

declare -a tools=(
    "bat"
    "delta"
    "exa"
    "fd"
    "fzf"
    "ghq"
    "github-cli"
    "jq"
    "lazygit"
    "ripgrep"
    "shellcheck"
    "shfmt"
    "starship"
    "yq"
    "zoxide"
)

install_tool() {
    tool="$1"
    asdf plugin add "$tool" || true
    asdf install "$tool" latest
    asdf global "$tool" latest
    asdf reshim "$tool"
    if [ "$tool" == "fzf" ]; then
        ~/.asdf/installs/fzf/"$(asdf latest fzf)"/install --key-bindings --completion --no-update-rc
    fi
}

for tool in "${tools[@]}"; do
    install_tool "$tool"
done

for tool in "$@"; do
    install_tool "$tool"
done
